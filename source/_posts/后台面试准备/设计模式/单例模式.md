---
title: 单例模式
---

1. 单例模式

   该类负责创建自己的对象，同时确保只有单个对象被创建（构造器私有化）。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。

   **注意：**

   - 1、单例类只能有一个实例。
   - 2、单例类必须自己创建自己的唯一实例。
   - 3、单例类必须给所有其他对象提供这一实例。

**意图：**保证一个类仅有一个实例，并提供一个访问它的全局访问点。

**主要解决：**一个全局使用的类频繁地创建与销毁。

**何时使用：**当您想控制实例数目，节省系统资源的时候。

**如何解决：**判断系统是否已经有这个单例，如果有则返回，如果没有则创建。

**优点：**

- 1、在内存里只有一个实例，减少了内存的开销，尤其是频繁的创建和销毁实例（比如管理学院首页页面缓存）。
- 2、避免对资源的多重占用（比如写文件操作）。

**缺点：**没有接口，不能继承，与单一职责原则冲突，一个类应该只关心内部逻辑，而不关心外面怎么样来实例化。

饿汉式：

​	在类加载时就完成初始化并且返回，线程安全缺点是会产生垃圾对象

懒汉式：

​	每次使用判断类是否初始化，未初始化就初始化返回类，初始化了就直接返回，速度快但是无线程安全。

双次确认懒汉式：

​	在实例化的时候判断类是不是已经创建好了，如果没有再确认一次是否已经创建，速度快而且线程安全

